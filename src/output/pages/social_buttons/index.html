<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Using Alternative Social Buttons with Nikola | Skelleton framework</title>
<!-- Debug: NO DESCRIPTION! --><link rel="canonical" href="https://gonzalotorreras.github.io/nikola-theme-skelleton/pages/social_buttons/">
<!-- TODO: Double check author (blog_author?) --><!-- TODO: Canonical <span class="amp">&amp;</span> alternate multilingual --><!-- --><meta name="viewport" content="width=device-width">
<link href="../../assets/css/main.css" rel="preload" as="style" type="text/css" onload="this.rel='stylesheet'">
<!-- TODO: FavIcon --><meta name="theme-color" content="#27462a">
<!-- extra_head -->
</head>
<body class="page">
    <div class="site-box is_boxed">
        <a href="#content" hidden class="">Skip to main content</a>


    <header id="site-header"><nav class="container header-menu menu-horizontal flex-jspace_between"><a class="logo" href="../../">Skelleton framework</a>

            <!-- 
macro:
ui.legacy_menu_generator(
(('/archive/', 'Archive'), ('/categories/', 'Tags'), ('blog', 'Blog'), ('/rss.xml', 'RSS feed'), ((('/pages', 'Child 1.1'), ((('/pages', 'Child 1.2.1'), ('/pages', 'Child 1.2.2')), 'Child 1.2')), 'Ele with childs')),
 False
)
 --><!-- 
macro:
ui.menuConstructor(
[{'text': 'Archive', 'href': '/archive/'}, {'text': 'Tags', 'href': '/categories/'}, {'text': 'Blog', 'href': 'blog'}, {'text': 'RSS feed', 'href': '/rss.xml'}, {'text': 'Ele with childs', 'href': '#', 'children': [{'text': 'Child 1.1', 'href': '/pages', 'class': 'submenu-item', 'data-depth': 1, 'children': False}, {'text': 'Child 1.2.1', 'href': '/pages', 'class': 'submenu-item', 'data-depth': 2, 'children': False}, {'text': 'Child 1.2.2', 'href': '/pages', 'class': 'submenu-item', 'data-depth': 2, 'children': False}, {'text': 'Child 1.2', 'href': '#', 'class': 'submenu-item', 'data-depth': 1, 'children': []}]}],
False
)
 -->
<ul class="menu-horizontal flex-hright ">
<li class="menu-item">
            <a href="../../archive/" class="menu-link ">Archive</a>
</li>
<li class="menu-item">
            <a href="../../categories/" class="menu-link ">Tags</a>
</li>
<li class="menu-item">
            <a href="blog" class="menu-link ">Blog</a>
</li>
<li class="menu-item">
            <a href="../../rss.xml" class="menu-link "><span class="caps">RSS</span>&nbsp;feed</a>
</li>
<li class="menu-item with-children ">
            <a href="#" class="menu-link ">Ele with childs</a><ul class="submenu">
<li class="menu-item">
            <a href="../../pages" class="menu-link submenu-item" data-depth="1" children="False">Child&nbsp;1.1</a>
</li>
<li class="menu-item">
            <a href="../../pages" class="menu-link submenu-item" data-depth="2" children="False">Child&nbsp;1.2.1</a>
</li>
<li class="menu-item">
            <a href="../../pages" class="menu-link submenu-item" data-depth="2" children="False">Child&nbsp;1.2.2</a>
</li>
<li class="menu-item">
            <a href="#" class="menu-link submenu-item" data-depth="1" children="[]">Child&nbsp;1.2</a>
</li>
</ul>
</li>
</ul>
<!-- 
macro:
ui.searchForm()
 --><div class="search-form-wrapper" role="search">
    <form class="search-form" action="#">
        <input type="text" required placeholder=""><button type="submit">S</button>
    </form>
</div>


            <!-- 
macro:
ui.langSwitcher()
 --><div class="translation-menu-wrapper">
<!-- 
macro:
ui.menuConstructor(
[{'href': '#', 'text': 'en', 'class': 'active', 'children': [{'href': '#', 'text': 'en', 'rel': 'alternate', 'hreflang': 'en', 'class': Undefined, 'extra_li_class': 'lang-item'}, {'href': '/es/.', 'text': 'es', 'rel': 'alternate', 'hreflang': 'es', 'class': Undefined, 'extra_li_class': 'lang-item'}]}],
{'menuExtraClass': 'translation-menu'}
)
 -->
<ul class="menu-horizontal flex-hright translation-menu"><li class="menu-item active with-children ">
            <a href="#" class="menu-link active">en</a><ul class="submenu">
<li class="menu-itemlang-item">
            <a href="#" rel="alternate" hreflang="en" class="menu-link ">en</a>
</li>
<li class="menu-itemlang-item">
            <a href="../../es/" rel="alternate" hreflang="es" class="menu-link ">es</a>
</li>
</ul>
</li></ul>
</div>
        </nav></header><main id="site-content"><article><!-- 
macro:
ui.section(
{'ele': 'header', 'class': 'page-header'}
)
 --><header class="section page-header"><div class="container">        <h1 class="page-title">Using Alternative Social Buttons with&nbsp;Nikola</h1>
</div>
</header><!-- 
macro:
ui.section(
{'ele': 'div', 'class': 'page-content'}
)
 --><div class="section page-content">
    <div class="container">        <div>
<dl class="docinfo simple">
<dt class="version">Version</dt>
<dd class="version">8.1.1</dd>
</dl>
<div class="contents alert alert-primary float-md-right topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#the-default" id="id2">The&nbsp;Default</a></p></li>
<li><p><a class="reference internal" href="#sharenice" id="id3">ShareNice</a></p></li>
<li>
<p><a class="reference internal" href="#socialshareprivacy" id="id4">SocialSharePrivacy</a></p>
<ul>
<li><p><a class="reference internal" href="#the-hard-way" id="id5">The Hard&nbsp;Way</a></p></li>
<li><p><a class="reference internal" href="#the-easy-way" id="id6">The Easy&nbsp;Way</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="the-default">
<h2><a class="toc-backref" href="#id2">The&nbsp;Default</a></h2>
<p>By Default, the themes provided with Nikola will add to your pages a &#8220;slide in&#8221; widget at
the bottom right of the page, provided by Addthis. This is the <span class="caps">HTML</span> code for&nbsp;that:</p>
<pre class="code html"><a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-1"></a><span class="c">&lt;!-- Social buttons --&gt;</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-2"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"addthisbox"</span> <span class="na">class</span><span class="o">=</span><span class="s">"addthis_toolbox addthis_peekaboo_style</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-3"></a><span class="s">    addthis_default_style addthis_label_style addthis_32x32_style"</span><span class="p">&gt;</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-4"></a><span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">"addthis_button_more"</span><span class="p">&gt;</span>Share<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-5"></a><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">"addthis_button_facebook"</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-6"></a><span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">"addthis_button_google_plusone_share"</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-7"></a><span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">"addthis_button_linkedin"</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-8"></a><span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">"addthis_button_twitter"</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-9"></a><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-10"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-11"></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-12"></a><span class="c">&lt;!-- End of social buttons --&gt;</span>
<a name="rest_code_a5bb004ecbf94204b35da1c9b4674979-13"></a>"""
</pre>
<p>You can change that using&nbsp;the <code class="docutils literal">SOCIAL_BUTTONS_CODE</code> option in your conf.py. In some cases, just
doing that will be enough but in others, it won&#8217;t. This document tries to describe all the bits
involved in making this work&nbsp;correctly.</p>
<dl>
<dt>Part&nbsp;1: <code class="docutils literal">SOCIAL_BUTTONS_CODE</code>
</dt>
<dd>
<p>Social sharing services like addthis and others will provide you a <span class="caps">HTML</span> snippet.
If it is self-contained, then just&nbsp;setting <code class="docutils literal">SOCIAL_BUTTONS_CODE</code> may be enough.
Try&nbsp;:-)</p>
</dd>
<dt>Part 2: The&nbsp;theme</dt>
<dd>
<p>The <code class="docutils literal">SOCIAL_BUTTONS_CODE</code> <span class="caps">HTML</span> fragment will be embedded <em>somewhere</em> by the theme. Whether that
is the correct place or not is not something the theme author can truly know, so it is possible that
you may have to tweak&nbsp;the <code class="docutils literal">base.html</code> template to make it look&nbsp;good.</p>
</dd>
<dt>Part&nbsp;3: <code class="docutils literal">BODY_END</code> and <code class="docutils literal">EXTRA_HEAD_DATA</code>
</dt>
<dd>
<p>Some social sharing code requires <span class="caps">JS</span> execution that depends on JQuery being available
(example: <a class="reference external" href="https://github.com/panzi/SocialSharePrivacy">SocialSharePrivacy</a>). It&#8217;s good
practice (and often, the only way that will work) to put those at the end&nbsp;of <code class="docutils literal">&lt;BODY&gt;</code>,
and one easy way to do that is to put them&nbsp;in <code class="docutils literal">BODY_END</code></p>
<p>On the other hand, it&#8217;s possible that it requires you to load some <span class="caps">CSS</span> files.
The right place for that is in the&nbsp;document&#8217;s <code class="docutils literal">&lt;HEAD&gt;</code> so they should be added&nbsp;in <code class="docutils literal">EXTRA_HEAD_DATA</code></p>
</dd>
<dt>Part 4:&nbsp;assets</dt>
<dd>
<p>For sharing code that doesn&#8217;t rely on a social sharing service, you may need to add <span class="caps">CSS</span>, Image, or <span class="caps">JS</span>
files to your&nbsp;site</p>
</dd>
</dl>
</div>
<div class="section" id="sharenice">
<h2><a class="toc-backref" href="#id3">ShareNice</a></h2>
<p><a class="reference external" href="https://graingert.co.uk/shareNice/">ShareNice</a> is &#8220;written in order to provide social sharing features to
web developers and website administrators who wish to maintain and protect their users&#8217; privacy&#8221;
which sounds cool to&nbsp;me.</p>
<p>Let&#8217;s go step by step into integrating the hosted version of ShareNice into a Nikola&nbsp;site.</p>
<p>For testing purposes, let&#8217;s do it on a demo&nbsp;site:</p>
<pre class="literal-block">$ nikola init --demo sharenice_test
A new site with example data has been created at sharenice_test.
See README.txt in that folder for more information.
$ cd sharenice_test/</pre>
<p>To see what&#8217;s going on, let&#8217;s start Nikola in &#8220;auto mode&#8221;. This should build the
site and open a web browser showing the default configuration, with the AddThis&nbsp;widget:</p>
<pre class="literal-block">$ nikola auto -b</pre>
<p>First, let&#8217;s add the <span class="caps">HTML</span> snippet that will show the sharing options. In your conf.py, set this, which
is the <span class="caps">HTML</span> code suggested by&nbsp;ShareNice:</p>
<pre class="code python"><a name="rest_code_a162463d6bee4b549715e17ee3259cf5-1"></a><span class="n">SOCIAL_BUTTONS_CODE</span> <span class="o">=</span> <span class="s2">"""&lt;div id="shareNice" data-share-label="Share"</span>
<a name="rest_code_a162463d6bee4b549715e17ee3259cf5-2"></a><span class="s2">    data-color-scheme="black" data-icon-size="32" data-panel-bottom="plain"</span>
<a name="rest_code_a162463d6bee4b549715e17ee3259cf5-3"></a><span class="s2">    data-services="plus.google.com,facebook.com,digg.com,email,delicious.com,twitter.com"</span>
<a name="rest_code_a162463d6bee4b549715e17ee3259cf5-4"></a><span class="s2">    style="float:right"&gt;&lt;/div&gt;"""</span>
<a name="rest_code_a162463d6bee4b549715e17ee3259cf5-5"></a>
<a name="rest_code_a162463d6bee4b549715e17ee3259cf5-6"></a><span class="n">BODY_END</span> <span class="o">=</span> <span class="s2">"""&lt;script src="http://graingert.co.uk/shareNice/code.js"&gt;&lt;/script&gt;"""</span>
</pre>
<p>And you should now see a sharing box at the bottom right of the&nbsp;page.</p>
<p>Main problem remaining is that it doesn&#8217;t really look good and integrated in the page layout.
I suggest changing the code to this which looks nicer, but still has some placement&nbsp;issues:</p>
<pre class="code python"><a name="rest_code_0ff928c23c98409791f4fc6f8d39bba7-1"></a><span class="n">SOCIAL_BUTTONS_CODE</span> <span class="o">=</span> <span class="s2">"""&lt;div id="shareNice" data-share-label="Share"</span>
<a name="rest_code_0ff928c23c98409791f4fc6f8d39bba7-2"></a><span class="s2">    data-color-scheme="black" data-icon-size="32" data-panel-bottom="plain"</span>
<a name="rest_code_0ff928c23c98409791f4fc6f8d39bba7-3"></a><span class="s2">    data-services="plus.google.com,facebook.com,email,twitter.com"</span>
<a name="rest_code_0ff928c23c98409791f4fc6f8d39bba7-4"></a><span class="s2">    style="position: absolute; left: 20px; top: 60px;"&gt;&lt;/div&gt;"""</span>
</pre>
<p>If anyone comes up with a better idea of styling/placement, just let me know&nbsp;;-)</p>
<p>One bad bit of this so far is that you are now using a script from another site, and that
doesn&#8217;t let Nikola perform as many optimizations to your page as it could.
So, if you really want to go the extra mile to save a few <span class="caps">KB</span> and round trips, you <em>could</em>
install your own copy from the <a class="reference external" href="https://github.com/mischat/shareNice">github repo</a> and
use that instead of the copy at <a class="reference external" href="http://graingert.co.uk/shareNice">ShareNice</a>.</p>
<p>Then, you can create your own theme inheriting from the one you are using and add the <span class="caps">CSS</span>
and <span class="caps">JS</span> files from ShareNice into&nbsp;your <code class="docutils literal">bundles</code> configuration so they are combined and&nbsp;minified.</p>
</div>
<div class="section" id="socialshareprivacy">
<h2><a class="toc-backref" href="#id4">SocialSharePrivacy</a></h2>
<div class="section" id="the-hard-way">
<h3><a class="toc-backref" href="#id5">The Hard&nbsp;Way</a></h3>
<p><a class="reference external" href="https://github.com/panzi/SocialSharePrivacy">SocialSharePrivacy</a> is &#8220;a jQuery plugin that
lets you add social share buttons to your website that don&#8217;t allow the social sites to track
your users.&#8221;&nbsp;Nice!</p>
<p>Let&#8217;s go step-by-step into integrating SocialSharePrivacy into a Nikola site. To improve
privacy, they recommend you not use the hosted service so we&#8217;ll do it the hard way, by
getting and distributing everything in our own&nbsp;site.</p>
<p><a class="reference external" href="https://github.com/panzi/SocialSharePrivacy">https://github.com/panzi/SocialSharePrivacy</a></p>
<p>For testing purposes, let&#8217;s do it on a demo&nbsp;site:</p>
<pre class="literal-block">$ nikola init --demo ssp_test
A new site with example data has been created at ssp_test.
See README.txt in that folder for more information.
$ cd ssp_test/</pre>
<p>To see what&#8217;s going on, let&#8217;s start Nikola in &#8220;auto mode&#8221;. This should build the
site and open a web browser showing the default configuration, with the AddThis&nbsp;widget:</p>
<pre class="literal-block">$ nikola auto -b</pre>
<p>Now, download <a class="reference external" href="https://github.com/panzi/SocialSharePrivacy/archive/master.zip">the current version</a>
and unzip it. You will have&nbsp;a <code class="docutils literal"><span class="pre">SocialSharePrivacy-master</span></code> folder with lots of stuff in&nbsp;it.</p>
<p>First, we need to build it (this requires a working and modern uglifyjs, this may not be&nbsp;easy):</p>
<pre class="literal-block">$ cd SocialSharePrivacy-master
$ sh build.sh -m gplus,twitter,facebook,mail -s "/assets/css/socialshareprivacy.css" -a off</pre>
<p>You will now have several files in&nbsp;a <code class="docutils literal">build</code> folder. We need to bring them into the&nbsp;site:</p>
<pre class="literal-block">$ cp -Rv SocialSharePrivacy-master/build/* files/
$ cp -R SocialSharePrivacy-master/images/ files/assets/</pre>
<p>Edit&nbsp;your <code class="docutils literal">conf.py</code>:</p>
<pre class="code python"><a name="rest_code_8f43bb89e1844d01a1e46093f297c982-1"></a><span class="n">BODY_END</span> <span class="o">=</span> <span class="s2">"""</span>
<a name="rest_code_8f43bb89e1844d01a1e46093f297c982-2"></a><span class="s2">&lt;script src="/javascripts/jquery.socialshareprivacy.min.js"&gt;&lt;/script&gt;</span>
<a name="rest_code_8f43bb89e1844d01a1e46093f297c982-3"></a><span class="s2">&lt;script&gt;</span>
<a name="rest_code_8f43bb89e1844d01a1e46093f297c982-4"></a><span class="s2">$(document).ready(function () {</span>
<a name="rest_code_8f43bb89e1844d01a1e46093f297c982-5"></a><span class="s2">    $('.share').socialSharePrivacy();</span>
<a name="rest_code_8f43bb89e1844d01a1e46093f297c982-6"></a><span class="s2">});</span>
<a name="rest_code_8f43bb89e1844d01a1e46093f297c982-7"></a><span class="s2">&lt;/script&gt;</span>
<a name="rest_code_8f43bb89e1844d01a1e46093f297c982-8"></a><span class="s2">"""</span>
<a name="rest_code_8f43bb89e1844d01a1e46093f297c982-9"></a>
<a name="rest_code_8f43bb89e1844d01a1e46093f297c982-10"></a><span class="n">SOCIAL_BUTTONS_CODE</span> <span class="o">=</span> <span class="s2">"""&lt;div class="share"&gt;&lt;/div&gt;"""</span>
</pre>
<p>In my experience this produces a broken, duplicate, semi-working thing. <span class="caps">YMMV</span> and if you make it work correctly, let me know how&nbsp;:-)</p>
</div>
<div class="section" id="the-easy-way">
<h3><a class="toc-backref" href="#id6">The Easy&nbsp;Way</a></h3>
<p>Go to <a class="reference external" href="http://panzi.github.io/SocialSharePrivacy/">http://panzi.github.io/SocialSharePrivacy/</a> and use the provided form to get the code. Make sure you check &#8220;I already use JQuery&#8221;
if you are using one of the themes that require it, like site or default, select the services you want, and use your disqus name if
you have&nbsp;one.</p>
<p>It will give you 3 code&nbsp;snippets:</p>
<dl class="simple">
<dt><span class="dquo">&#8220;</span>Insert this once in the head of your&nbsp;page&#8221;</dt>
<dd>
<p>Put it&nbsp;in <code class="docutils literal">BODY_END</code></p>
</dd>
<dt><span class="dquo">&#8220;</span>Insert this wherever you want a share widget&nbsp;displayed&#8221;</dt>
<dd>
<p>Put it&nbsp;in <code class="docutils literal">SOCIAL_BUTTONS_CODE</code></p>
</dd>
<dt><span class="dquo">&#8220;</span>Insert this once anywhere after the other&nbsp;code&#8221;</dt>
<dd>
<p>Put it&nbsp;in <code class="docutils literal">BODY_END</code></p>
</dd>
</dl>
<p>That should give you a working integration (not&nbsp;tested)</p>
</div>
</div>
</div>
        <!-- TODO: How .sections are handled in .str|.md? -->
</div>
</div>    </article></main><footer id="site-footer"><section class="container"><nav class="cols dflex flex-g1"><ul class="col col-1">
<a class="logo" href="../../">Skelleton framework</a>

                    <p>Contents © 2020         <a href="mailto:hola@gonzalotorreras.com">Gonzalo&nbsp;Torreras</a></p>
                </ul>
<ul class="col col-2"></ul>
<!-- 
macro:
ui.menuConstructor(
[{'text': 'RSS', 'href': 'en/rss.xml', 'target': '_blank', 'children': [{'text': 'child1', 'href': '#'}]}],
{'menuExtraClass': 'col col-3'}
)
 --><ul class="menu-horizontal flex-hright col col-3"><li class="menu-item with-children ">
            <a href="en/rss.xml" target="_blank" class="menu-link "><span class="caps">RSS</span></a><ul class="submenu"><li class="menu-item">
            <a href="#" class="menu-link ">child1</a>
</li></ul>
</li></ul></nav></section></footer>
</div>


        <script defer src="../../assets/js/main.js"></script><pre id="is_verbose"> Template in use: page.tmpl
 </pre>
</body>
</html>